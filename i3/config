# === i3 CONFIG ===

set $mod Mod4

# Focus
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5

# Apps
bindsym $mod+Return exec alacritty
bindsym $mod+d exec rofi -show drun -config ~/.config/rofi/config.rasi
bindsym $mod+e exec thunar
bindsym $mod+Shift+q kill
bindsym $mod+w exec rofi -show wallpaper
bindsym $mod+Shift+e exec rofi -show power
bindsym $mod+x exec --no-startup-id ~/.config/i3/lock.sh


# Layout
bindsym $mod+Tab focus next
bindsym $mod+Shift+Tab focus prev

# Gaps & Border
gaps inner 4
gaps outer 4
default_border none
for_window [class=".*"] border pixel 2
hide_edge_borders smart

# Font
font pango:JetBrainsMono Nerd Font 9

# Pywal colors
set_from_resource $fg i3wm.color7 #f0f0f0
set_from_resource $bg i3wm.color0 #000000
set_from_resource $accent i3wm.color4 #0000ff

# Window colors
client.focused #1e1e2e #1e1e2e #cdd6f4 #1e1e2e #1e1e2e
client.focused_inactive #313244 #313244 #cdd6f4 #313244 #313244
client.unfocused #313244 #313244 #cdd6f4 #313244 #313244
client.urgent $bg $bg $fg $bg

# Volume Control
bindsym F1 exec --no-startup-id amixer set Master toggle
bindsym F2 exec --no-startup-id amixer set Master 1%-
bindsym F3 exec --no-startup-id amixer set Master 1%+
bindsym XF86AudioMute exec --no-startup-id amixer set Master toggle
bindsym XF86AudioLowerVolume exec --no-startup-id amixer set Master 1%-
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer set Master 1%+

# MPV window rules
for_window [class="mpv"] floating enable, resize set 1280 720, move position center

# Toggle picom
bindsym $mod+Shift+p exec --no-startup-id "pkill picom || picom --config ~/.config/picom/picom.conf &"

# === STARTUP ===
exec_always --no-startup-id pkill picom; picom --config ~/.config/picom/picom.conf &

# === STARTUP (runs on reload) ===
exec_always --no-startup-id wal -R -n
exec_always --no-startup-id xrdb -merge ~/.Xresources
exec_always --no-startup-id ~/.config/polybar/launch.sh
exec_always --no-startup-id ~/.local/bin/wal-vscode
exec_always --no-startup-id ~/.local/bin/wal-gtk
exec_always --no-startup-id dunst
exec_always --no-startup-id feh --bg-fill $(cat ~/.cache/wal/wal)


# Constrain floating windows to screen
floating_maximum_size 1300 x 700

for_window [floating] move position center

# Center all floating windows
for_window [floating] move position center

#auto-tiling
exec_always --no-startup-id autotiling

#screenshots
bindsym Print exec --no-startup-id ~/.config/i3/scripts/screenshot.sh
bindsym Shift+Print exec --no-startup-id ~/.config/i3/scripts/screenshot.sh select