[colors]
bg = #00000000
fg = ${xrdb:color7:#cdd6f4}
dim = ${xrdb:color8:#6c7086}
accent = ${xrdb:color4:#89b4fa}

[bar/main]
width = 100%
height = 24
background = ${colors.bg}
foreground = ${colors.fg}
line-size = 2
padding = 2
module-margin = 2
font-0 = JetBrainsMono Nerd Font:size=9;2

modules-left = date i3 cava
modules-center = media
modules-right = cpu memory volume battery power

[module/date]
type = internal/date
interval = 60
time = %I:%M %p
label = 󰥔 %time%

[module/i3]
type = internal/i3
label-focused = %index%
label-focused-foreground = ${colors.accent}
label-focused-underline = ${colors.accent}
label-focused-padding = 1
label-unfocused = %index%
label-unfocused-foreground = ${colors.dim}
label-unfocused-padding = 1

[module/cava]
type = custom/script
exec = ~/.config/polybar/scripts/cava.sh
tail = true

[module/media]
type = custom/script
exec = ~/.config/polybar/scripts/media.sh
interval = 1
click-left = playerctl play-pause
click-right = playerctl next

[module/cpu]
type = internal/cpu
interval = 2
label = cpu %percentage%%

[module/memory]
type = internal/memory
interval = 2
label = ram %percentage_used%%

[module/volume]
type = internal/pulseaudio
label-volume = 󰕾 %percentage%%
label-muted = 󰖁 mute
label-muted-foreground = ${colors.dim}

[module/battery]
type = internal/battery
battery = BAT0
adapter = ADP1
poll-interval = 30
label-discharging = 󰁹 %percentage%%
label-charging = 󰂄 %percentage%%

[module/power]
type = custom/text
content = 󰐥
content-foreground = ${colors.accent}
click-left = ~/.config/polybar/scripts/powermenu.sh

[settings]
screenchange-reload = true
pseudo-transparency = true
