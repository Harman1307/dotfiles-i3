backend = "glx";
vsync = true;

# Rounded corners
corner-radius = 15;
round-borders = 1;

rounded-corners-exclude = [
  "window_type = 'desktop'"
];

glx-no-stencil = true;
glx-no-rebind-pixmap = true;
use-damage = true;

# Shadows
shadow = true;
shadow-radius = 12;
shadow-opacity = 0.75;
shadow-offset-x = -12;
shadow-offset-y = -12;

# NO global transparency - we control each app
inactive-opacity = 1.0;
active-opacity = 1.0;
frame-opacity = 1.0;

# Blur
blur-method = "dual_kawase";
blur-strength = 5;
blur-background = true;

# Fading
fading = true;
fade-in-step = 0.05;
fade-out-step = 0.05;

# Per-app transparency rules
opacity-rule = [
  # Terminals - nice and transparent
  "80:class_g = 'Alacritty' && focused",
  "70:class_g = 'Alacritty' && !focused",
  
  # File manager
  "90:class_g = 'Thunar' && focused",
  "80:class_g = 'Thunar' && !focused",
  
  # Rofi launcher
  "85:class_g = 'Rofi'",
  
  # Code editors - transparent but readable
  "88:class_g = 'Code' && focused",
  "80:class_g = 'Code' && !focused",
  "88:class_g = 'Sublime_text' && focused",
  "80:class_g = 'Sublime_text' && !focused",
  
  # Always solid
  "100:class_g = 'firefox'",
  "100:class_g = 'krita'",
  "100:class_g = 'Gimp'",
  "100:class_g = 'mpv'",
];